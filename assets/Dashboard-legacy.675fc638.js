!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./vendor-legacy.592faadb.js","./konva-legacy.871713ed.js","./ahooks-legacy.55072751.js","./common-legacy.1be315b0.js","./@mui/material-legacy.2014712e.js"],(function(t,n){"use strict";var r,a,o,i,s,l,c,d,p,u,h,m,f,g,v,y,b,w,x,_,S,R,k,$,C,z,T,I,L,W,A,O,E,P,B,j,N;return{setters:[e=>{r=e.r,a=e.b,o=e.c,i=e.R,s=e.j,l=e.d,c=e.F},e=>{d=e.K},e=>{p=e.u},e=>{u=e._,h=e.i,m=e.a},e=>{f=e.s,g=e.B,v=e.r,y=e.c,b=e._,w=e.a,x=e.b,_=e.d,S=e.u,R=e.e,k=e.f,$=e.g,C=e.h,z=e.i,T=e.j,I=e.k,L=e.l,W=e.m,A=e.n,O=e.o,E=e.t,P=e.p,B=e.q,j=e.v,N=e.w}],execute:function(){t("default",(function(){const e=i.createRef(),[t,n]=i.useState(),[r,a]=i.useState(-1);p((()=>{const{current:t}=e;if(!t)throw new Error("Container.current is null");const n=new d.Stage({container:t,width:t.scrollWidth,height:t.scrollHeight});oe.getInstance().setStage(n).setLayer()}));const o=async()=>{const e=await async function(...e){return(await M).default(...e)}({extensions:[".png",".jpg",".jpeg",".gif",".bmp"],description:"图片文件"}),t=await ae.file2image(e),a=await oe.getInstance().drawImage(t);n(a),u(r,a)},u=async(e,t)=>{await qe.init();const n=Ge.find((t=>t.value===e));n&&(null==t||t.cache(),null==t||t.filters([n.handle]))};return l(c,{children:[s("h1",{css:Q,children:"Konva结合rust新增图片滤镜效果"}),s(ge,{sx:{justifyContent:"center",paddingBottom:2},direction:"row",spacing:2,children:s(ue,{variant:"contained",onClick:()=>o(),children:"选择文件"})}),l("div",{css:X,children:[s(Te,{value:r,data:Ge,disabled:!t,onChange:e=>{e!==r&&(a(e),t&&u(e,t))}}),s("div",{css:Y,children:s("div",{ref:e,css:Z})})]})]})}));const n=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(n){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),M=n?Promise.resolve().then((function(){return U})):Promise.resolve().then((function(){return H}));n?Promise.resolve().then((function(){return q})):Promise.resolve().then((function(){return K})),n?Promise.resolve().then((function(){return G})):Promise.resolve().then((function(){return J}));const F=async e=>{const t=await e.getFile();return t.handle=e,t};var U={__proto__:null,default:async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach(((e,n)=>{t[n]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map((r=>{t[n].accept[r]=e.extensions||[]})):t[n].accept["*/*"]=e.extensions||[]}));const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(F));return e[0].multiple?r:r[0]}};function D(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return D=function(e){this.s=e,this.n=e.next},D.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new D(e)}const V=async(e,t,n=e.name,r)=>{const a=[],o=[];var i,s=!1,l=!1;try{for(var c,d=function(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new D(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());s=!(c=await d.next()).done;s=!1){const i=c.value,s=`${n}/${i.name}`;"file"===i.kind?o.push(i.getFile().then((t=>(t.directoryHandle=e,t.handle=i,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>s}))))):"directory"!==i.kind||!t||r&&r(i)||a.push(V(i,t,s,r))}}catch(e){l=!0,i=e}finally{try{s&&null!=d.return&&await d.return()}finally{if(l)throw i}}return[...(await Promise.all(a)).flat(),...await Promise.all(o)]};var q={__proto__:null,default:async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return V(t,e.recursive,void 0,e.skipDirectory)}},G={__proto__:null,default:async(e,t=[{}],n=null,r=!1,a=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),t.forEach(((e,t)=>{o[t]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===t&&i&&e.mimeTypes.push(i),e.mimeTypes.map((n=>{o[t].accept[n]=e.extensions||[]}))):i?o[t].accept[i]=e.extensions||[]:o[t].accept["*/*"]=e.extensions||[]})),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}const s=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&a&&a(s);const l=await s.createWritable();if("stream"in e){const t=e.stream();return await t.pipeTo(l),s}return"body"in e?(await e.body.pipeTo(l),s):(await l.write(await e),await l.close(),s)}},H={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((t,n)=>{const r=document.createElement("input");r.type="file";const a=[...e.map((e=>e.mimeTypes||[])),...e.map((e=>e.extensions||[]))].join();r.multiple=e[0].multiple||!1,r.accept=a||"",r.style.display="none",document.body.append(r);const o=e=>{"function"==typeof i&&i(),t(e)},i=e[0].legacySetup&&e[0].legacySetup(o,(()=>i(n)),r),s=()=>{window.removeEventListener("focus",s),r.remove()};r.addEventListener("click",(()=>{window.addEventListener("focus",s)})),r.addEventListener("change",(()=>{window.removeEventListener("focus",s),r.remove(),o(r.multiple?Array.from(r.files):r.files[0])})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},K={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const a=e=>{"function"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(a,(()=>o(n)),r);r.addEventListener("change",(()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((t=>t.webkitRelativePath.split("/").every((t=>!e[0].skipDirectory({name:t,kind:"directory"})))))):t=t.filter((e=>2===e.webkitRelativePath.split("/").length)),a(t)})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},J={__proto__:null,default:async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(e,t){const n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then((({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()}))}()}),a=new Response(r),o=await a.blob();return n.releaseLock(),new Blob([o],{type:t})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const a=()=>{"function"==typeof o&&o()},o=t.legacySetup&&t.legacySetup(a,(()=>o()),n);return n.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(n.href)),3e4),a()})),n.click(),null}};const Q={name:"1qk07wn",styles:"text-align:center;margin:0;padding:0.5em"},X={name:"zl1inp",styles:"display:flex;justify-content:center"},Y={name:"1mjnbiv",styles:"width:70vmin;height:70vmin;display:block;flex:none;overflow:auto"},Z={name:"15l7spb",styles:"width:100%;height:100%;display:block;background-color:#f2f2f2;flex:none"};var ee=u,te=h,ne=m;var re=function(e){return"string"==typeof e||!te(e)&&ne(e)&&"[object String]"==ee(e)};const ae={async file2image(e){const t=await this.readyFileToDataURL(e);return await this.createImage(t)},readyFileToDataURL:e=>new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result),r.onloadend=null,r.onerror=null},r.onerror=e=>{n(e),r.onloadend=null,r.onerror=null},r.readAsDataURL(e)})),createImage:e=>new Promise(((t,n)=>{const r=new Image;r.onload=()=>{t(r),r.onload=null,r.onerror=null},r.onerror=e=>{n(e),r.onload=null,r.onerror=null},r.src=e})),async scaleImage2Rect(e,t,n){re(e)&&(e=await this.createImage(e));const{width:r,height:a}=e,o=Math.min(t/r,n/a);return{width:t=r*o,height:n=a*o}}};class oe{constructor(){e(this,"Stage",null)}static getInstance(){return oe.instance||(oe.instance=new oe),oe.instance}setStage(e){return this.Stage=e,this}setLayer(){const{Stage:e}=this;if(!e)throw new Error("Stage is null.your should setStage first");e.getLayers().find((e=>"image"===e.name()))?console.warn("layer is exist.No need to set again"):e.add(new d.Layer({name:"image"}))}async drawImage(e){const{Stage:t}=this;if(!t)throw new Error("Stage is null.your should setStage first");const n=t.getLayers().find((e=>"image"===e.name()));if(!n)throw new Error("layer is null.your should setLayer first");n.removeChildren();const r=t.width(),a=t.height(),{width:o,height:i}=await ae.scaleImage2Rect(e,r,a),s=Math.floor((a-i)/2),l=Math.floor((r-o)/2),c=new d.Image({image:e,width:o,height:i,y:s,x:l});return n.add(c),c}}e(oe,"instance",void 0);const ie=r.exports.createContext({}),se=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],le=e=>b({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ce=f(g,{shouldForwardProp:e=>v(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${y(n.color)}`],t[`size${y(n.size)}`],t[`${n.variant}Size${y(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var n,r;return b({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":b({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${x.focusVisible}`]:b({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${x.disabled}`]:b({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${w(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${x.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${x.disabled}`]:{boxShadow:"none"}})),de=f("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${y(n.size)}`]]}})((({ownerState:e})=>b({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},le(e)))),pe=f("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${y(n.size)}`]]}})((({ownerState:e})=>b({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},le(e)))),ue=r.exports.forwardRef((function(e,t){const n=r.exports.useContext(ie),i=_(n,e),s=S({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:p,disabled:u=!1,disableElevation:h=!1,disableFocusRipple:m=!1,endIcon:f,focusVisibleClassName:g,fullWidth:v=!1,size:w="medium",startIcon:x,type:z,variant:T="text"}=s,I=R(s,se),L=b({},s,{color:c,component:d,disabled:u,disableElevation:h,disableFocusRipple:m,fullWidth:v,size:w,type:z,variant:T}),W=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:a,variant:o,classes:i}=e,s={root:["root",o,`${o}${y(t)}`,`size${y(a)}`,`${o}Size${y(a)}`,"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${y(a)}`],endIcon:["endIcon",`iconSize${y(a)}`]},l=$(s,C,i);return b({},i,l)})(L),A=x&&a(de,{className:W.startIcon,ownerState:L,children:x}),O=f&&a(pe,{className:W.endIcon,ownerState:L,children:f});return o(ce,b({ownerState:L,className:k(n.className,W.root,p),component:d,disabled:u,focusRipple:!m,focusVisibleClassName:k(W.focusVisible,g),ref:t,type:z},I,{classes:W,children:[A,l,O]}))})),he=["component","direction","spacing","divider","children"];function me(e,t){const n=r.exports.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,o)=>(e.push(a),o<n.length-1&&e.push(r.exports.cloneElement(t,{key:`separator-${o}`})),e)),[])}const fe=f("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=b({display:"flex",flexDirection:"column"},T({theme:t},I({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=L(t),a=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),o=I({values:e.direction,base:a}),i=I({values:e.spacing,base:a});"object"==typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));n=W(n,T({theme:t},i,((t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${a=n?o[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a]}`]:O(r,t)}};var a})))}return n=A(t.breakpoints,n),n})),ge=r.exports.forwardRef((function(e,t){const n=S({props:e,name:"MuiStack"}),r=z(n),{component:o="div",direction:i="column",spacing:s=0,divider:l,children:c}=r,d=R(r,he);return a(fe,b({as:o,ownerState:{direction:i,spacing:s},ref:t},d,{children:l?me(c,l):c}))})),ve=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],ye=f(g,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${y(n.size)}`]]}})((({theme:e,ownerState:t})=>{let n,r="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(r="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,n="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),b({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${E.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:w(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${n} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:w(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:w(r,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})})),be=r.exports.forwardRef((function(e,t){const n=S({props:e,name:"MuiToggleButton"}),{children:r,className:o,color:i="standard",disabled:s=!1,disableFocusRipple:l=!1,fullWidth:c=!1,onChange:d,onClick:p,selected:u,size:h="medium",value:m}=n,f=R(n,ve),g=b({},n,{color:i,disabled:s,disableFocusRipple:l,fullWidth:c,size:h}),v=(e=>{const{classes:t,fullWidth:n,selected:r,disabled:a,size:o,color:i}=e,s={root:["root",r&&"selected",a&&"disabled",n&&"fullWidth",`size${y(o)}`,i]};return $(s,P,t)})(g);return a(ye,b({className:k(v.root,o),disabled:s,focusRipple:!l,ref:t,onClick:e=>{p&&(p(e,m),e.defaultPrevented)||d&&d(e,m)},onChange:d,value:m,ownerState:g,"aria-pressed":u},f,{children:r}))}));function we(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const xe=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],_e=f("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${B.grouped}`]:t.grouped},{[`& .${B.grouped}`]:t[`grouped${y(n.orientation)}`]},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((({ownerState:e,theme:t})=>b({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${B.grouped}`]:b({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${B.selected} + .${B.grouped}.${B.selected}`]:{borderTop:0,marginTop:0}})}))),Se=r.exports.forwardRef((function(e,t){const n=S({props:e,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:l=!1,exclusive:c=!1,fullWidth:d=!1,onChange:p,orientation:u="horizontal",size:h="medium",value:m}=n,f=R(n,xe),g=b({},n,{disabled:l,fullWidth:d,orientation:u,size:h}),v=(e=>{const{classes:t,orientation:n,fullWidth:r,disabled:a}=e,o={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${y(n)}`,a&&"disabled"]};return $(o,j,t)})(g),w=(e,t)=>{if(!p)return;const n=m&&m.indexOf(t);let r;m&&n>=0?(r=m.slice(),r.splice(n,1)):r=m?m.concat(t):[t],p(e,r)},x=(e,t)=>{p&&p(e,m===t?null:t)};return a(_e,b({role:"group",className:k(v.root,i),ref:t,ownerState:g},f,{children:r.exports.Children.map(o,(e=>r.exports.isValidElement(e)?r.exports.cloneElement(e,{className:k(v.grouped,e.props.className),onChange:c?x:w,selected:void 0===e.props.selected?we(e.props.value,m):e.props.selected,size:e.props.size||h,fullWidth:d,color:e.props.color||s,disabled:e.props.disabled||l}):null))}))})),Re=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ke=f("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${y(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>b({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),$e={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ze=r.exports.forwardRef((function(e,t){const n=S({props:e,name:"MuiTypography"}),r=(e=>Ce[e]||e)(n.color),o=z(b({},n,{color:r})),{align:i="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:p=!1,variant:u="body1",variantMapping:h=$e}=o,m=R(o,Re),f=b({},o,{align:i,color:r,className:s,component:l,gutterBottom:c,noWrap:d,paragraph:p,variant:u,variantMapping:h}),g=l||(p?"p":h[u]||$e[u])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:a,variant:o,classes:i}=e,s={root:["root",o,"inherit"!==e.align&&`align${y(t)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return $(s,N,i)})(f);return a(ke,b({as:g,ref:t,ownerState:f,className:k(v.root,s)},m))})),Te=i.memo((e=>{const{data:t,value:n,disabled:r,onChange:a}=e;return s(Se,{disabled:r,value:n,orientation:"vertical",color:"primary",exclusive:!0,sx:{marginRight:1,flex:"none"},children:t.map(((e,t)=>{const{value:n,title:r}=e;return s(be,{value:n,onClick:()=>(e=>a&&a(e))(n),children:s(ze,{children:r})},t)}))})}));let Ie;const Le=new Array(32).fill(void 0);function We(e){return Le[e]}Le.push(void 0,null,!0,!1);let Ae=Le.length;function Oe(e){const t=We(e);return function(e){e<36||(Le[e]=Ae,Ae=e)}(e),t}const Ee=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Ee.decode();let Pe=new Uint8Array;function Be(){return 0===Pe.byteLength&&(Pe=new Uint8Array(Ie.memory.buffer)),Pe}function je(e){Ae===Le.length&&Le.push(Le.length+1);const t=Ae;return Ae=Le[t],Le[t]=e,t}let Ne=new Int32Array;function Me(){return 0===Ne.byteLength&&(Ne=new Int32Array(Ie.memory.buffer)),Ne}function Fe(e,t){return Be().subarray(e/1,e/1+t)}let Ue=0;function De(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){Oe(e)},e.wbg.__wbg_width_6e17ed358e109a2f=function(e){return We(e).width},e.wbg.__wbg_height_3948020edf838414=function(e){return We(e).height},e.wbg.__wbg_data_f13601b88960b7eb=function(e,t){const n=function(e,t){const n=t(1*e.length);return Be().set(e,n/1),Ue=e.length,n}(We(t).data,Ie.__wbindgen_malloc),r=Ue;Me()[e/4+1]=r,Me()[e/4+0]=n},e.wbg.__wbindgen_throw=function(e,t){throw new Error((n=e,r=t,Ee.decode(Be().subarray(n,n+r))));var n,r},e}async function Ve(e){void 0===e&&(e=new URL(""+new URL("image_bg.70dfb719.wasm",a.meta.url).href,self.location));const t=De();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:a}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return function(e,t){return Ie=e.exports,Ve.__wbindgen_wasm_module=t,Ne=new Int32Array,Pe=new Uint8Array,Ie}(r,a)}const qe={is_init:!1,async init(){return this.is_init||(await Ve(),this.is_init=!0),this},Grayscale:e=>e.data.set(function(e){try{const a=Ie.__wbindgen_add_to_stack_pointer(-16);Ie.grayscale(a,je(e));var t=Me()[a/4+0],n=Me()[a/4+1],r=Fe(t,n).slice();return Ie.__wbindgen_free(t,1*n),r}finally{Ie.__wbindgen_add_to_stack_pointer(16)}}(e)),Threshold:e=>e.data.set(function(e,t){try{const o=Ie.__wbindgen_add_to_stack_pointer(-16);Ie.threshold(o,je(e),t);var n=Me()[o/4+0],r=Me()[o/4+1],a=Fe(n,r).slice();return Ie.__wbindgen_free(n,1*r),a}finally{Ie.__wbindgen_add_to_stack_pointer(16)}}(e,128)),Canny:e=>e.data.set(function(e,t,n){try{const i=Ie.__wbindgen_add_to_stack_pointer(-16);Ie.to_canny(i,je(e),t,n);var r=Me()[i/4+0],a=Me()[i/4+1],o=Fe(r,a).slice();return Ie.__wbindgen_free(r,1*a),o}finally{Ie.__wbindgen_add_to_stack_pointer(16)}}(e,30,300))},Ge=[{title:"灰度",value:1,handle:qe.Grayscale},{title:"黑白",value:2,handle:qe.Threshold},{title:"Canny",value:3,handle:qe.Canny}]}}}))}();
